<div class="container">
  <form [formGroup]="anuncioForm" class="row" (submit)="salvarAnuncio()">
    <div class="col-6 text-center">
      <textarea
        formControlName="url"
        class="form-control"
        placeholder="Url Imagem"
        (change)="url = anuncioForm.get('url')?.value"></textarea>
      <h5 *ngIf="url" class="mt-3">Imagem selecionada</h5>
      <img *ngIf="url" [src]="url"  [alt]="anuncioForm.get('titulo')?.value" style="min-width: 250px; max-width: 400px">
      <app-vmessage *ngIf="anuncioForm.get('url')?.errors?.minlength || anuncioForm.get('url')?.errors?.required"
                    [text]="'Url deve conter no mínimo 6 caracteres'"></app-vmessage>
    </div>
    <div class="col-5">
       <textarea formControlName="titulo"
                 class="form-control"
                 placeholder="Título"></textarea>
      <app-vmessage
        *ngIf="anuncioForm.get('titulo')?.errors?.minlength || anuncioForm.get('titulo')?.errors?.maxlength || anuncioForm.get('titulo')?.errors?.required"
        [text]="'O título deve possuir entre 3 e 50 caracteres'"></app-vmessage>

      <textarea formControlName="mensagem"
                class="form-control"
                placeholder="Mensagem"></textarea>
      <app-vmessage
        *ngIf="anuncioForm.get('mensagem')?.errors?.minlength || anuncioForm.get('mensagem')?.errors?.maxlength || anuncioForm.get('mensagem')?.errors?.required"
        [text]="'A mensagem deve conter entre 300'"></app-vmessage>

      <button [disabled]="anuncioForm.invalid" type="submit" class="btn btn-primary btn-block">
        Salvar
      </button>
      <a href="a/list" class="btn btn-secondary">Cancelar</a>
    </div>
    <div *ngIf="anuncio?.id" class="col-1">
      <i *ngIf="anuncio.id" aria-hidden="true" class="fa fa-trash col-1 fa-2x"
         title="remover" (click)="excluir()"
      ></i>
    </div>
  </form>
</div>

